!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lantern Link Shortener | Spork easter egg</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
    }
    .info {
      margin-bottom: 10px;
    }
    h1 {
      color: #333;
    }
  </style>
  <script>
    // Function to fetch the user's IP address
    async function fetchIP() {
      try {
        const response = await fetch('https://wtfismyip.com/json');
        const data = await response.json();
        return data.YourFuckingIPAddress; 
      } catch (error) {
        console.error('Error fetching IP address:', error);
        return 'Unavailable'; // Fallback if API fails
      }
    }

    // Function to fetch geolocation if the user allows
    async function fetchGeolocation() {
      return new Promise((resolve, reject) => {
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(
            (position) => {
              const coords = {
                latitude: position.coords.latitude,
                longitude: position.coords.longitude,
                accuracy: position.coords.accuracy,
              };
              resolve(coords);
            },
            (error) => {
              console.error('Error fetching geolocation:', error);
              resolve({ latitude: 'Unavailable', longitude: 'Unavailable', accuracy: 'Unavailable' });
            }
          );
        } else {
          resolve({ latitude: 'Not supported', longitude: 'Not supported', accuracy: 'Not supported' });
        }
      });
    }

    // Function to gather, send, and display user information
    async function gatherAndSendInfo() {
      const ipAddress = await fetchIP(); // Fetch the IP address
      const geoData = await fetchGeolocation(); // Fetch geolocation

      // Collect other information
      const data = {
        ipAddress: ipAddress,
        userAgent: navigator.userAgent,
        windowWidth: window.innerWidth,
        windowHeight: window.innerHeight,
        screenWidth: screen.width,
        screenHeight: screen.height,
        colorDepth: screen.colorDepth,
        deviceMemory: navigator.deviceMemory || 'Not supported',
        cpuThreads: navigator.hardwareConcurrency || 'Not supported',
        languages: navigator.languages.join(', '),
        language: navigator.language,
        geolocation: `Latitude: ${geoData.latitude}, Longitude: ${geoData.longitude}, Accuracy: ${geoData.accuracy} meters`
      };

      // Log the data to the console
      console.log('Collected Information:', data);

      // Display the data on the webpage
      const output = document.getElementById('output');
      for (const [key, value] of Object.entries(data)) {
        const infoElement = document.createElement('div');
        infoElement.className = 'info';
        infoElement.textContent = `${key}: ${value}`;
        output.appendChild(infoElement);
      }

      // Send the data to the server
      fetch('/user-info', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(data)
      })
        .then(response => response.json())
        .then(result => {
          console.log('Server Response:', result);
        })
        .catch(error => console.error('Error sending data:', error));
    }

    // Trigger the function when the page loads
    window.onload = gatherAndSendInfo;
  </script>
</head>
<body>
  <h1>spork easter egg</h1>
  <hr>
  <p>spork</p>
  <img src="data:image/webp;base64,UklGRo4CAABXRUJQVlA4IIICAAAwFQCdASq5AHcAPoEmoFAlKqUlE4FQEAlpbt0DumrXeGN5zqHy4TivY9V4rGtyt9/c8ujbSmoFPOEMWYAoDS05rDsfX5C7JsiUPxGMb5VXsw2KGD/jgBKX4QJsrsouFYtCwsglbQQUscslT7YkaVQMqDlh3VbxoOCJ1Dqxl5YasZGItceXgSvS2wVQ6IFrzCNzcgwni/2rlQQXyFzAVxS3ixKC4SF+zuoBEQbmxeIbljoAAOKn1xGsunob+yzYd6hrtHOvChv2t0oZx/1tQ/vFGBymIX7mZ+LOvzoCbxifEHff+DdRhDMUN9I1A5wPllvl+uV00UiKbnTLbf2zsWMvp3M6qqPKsXkwN+XdxuxiX8bCGTpjUqPv09cfODjS91BDhqQbL217qFaHOd1C2vD1OxDID02xv1n5xpUzTJxpvFKm5+H5gJ4fAScHkppDz9rrL6E5+M8UeVWGwCLKwZGRH9ke0OsrSTynDx/z9c45VmofcwTbqx8cSMm4su5/E+udboo13ytmWmXMoeDSzrY3oz1JjrKcx39XpUFvcNYhh0wupS0B8MfjaR2vwafy5fqvC9LxxFxQAA5DKCcxWxOHmqRxrsnzwH2BgaKu4Y5oy/HduTcW3lm7GUx6ANELOKjpqd/fryTToLix/YD+nXi3QAcNj0KFbO8B8IXhhq5/AIq8/DYtTgI+WHn71c3ZTZ5cPBrDyZ2E82K1MtxYGfgmv76dbr35XZNxFTee6AS+BKwDeNcvXCbxC0/uYIf93YYQgPPJgOEmSDwuU0JWw+WAEXiFp8ArMG1i9eLcoGWNDNox83cDknIJ82yvSG2NHsvzeKfpnsemPn1gvo7BnxhoAAA=" alt="Italian Trulli">
  <p>spork</p>
  <p>spork</p>
  <p>spork</p>
  <p>spork</p>
  <p>spork</p>
  <p>spork</p>
  <p>spork</p>
  <p>spork</p>
  <p>spork</p>
  <p>spork</p>
  <p>spork</p>
  <p>spork</p>
  <p>spork</p>
  <p>spork</p>
  <p>spork</p>
  <p>spork</p>
  <p>spork</p>
  <p>spork</p>
  <p>spork</p>
  <p>spork</p>
  <p>spork</p>
  <p>spork</p>
  <p>spork</p>
  <p>spork</p>
  <p>spork</p>
  <p>spork</p>
  <p>spork</p>
  <p>spork</p>
  <p>spork</p>
  <p>spork</p>
  <p>spork</p>
  <p>spork</p>
  <p>spork</p>
  <p>spork</p>
  <p>spork</p>
  <p>spork</p>
  <p>spork</p>
  <p>spork</p>
  <p>spork</p>
  <p>spork</p>
  <p>spork</p>
  <p>spork</p>
  <p>spork</p>
  <p>spork</p>
  <p>spork</p>
  <p>spork</p>
  <div id="output"></div>
</body>
</html>
